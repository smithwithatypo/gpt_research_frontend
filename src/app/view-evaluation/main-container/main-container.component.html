<app-navbar></app-navbar>

<div class="row">
    <div class="column">

        <mat-sidenav-container class="view-problems">
            <mat-sidenav #sidenav mode="over" (blur)="sidenav.close()"> 
                <button mat-icon-button (click)="sidenav.close()"><mat-icon>clear</mat-icon></button>
                <app-selector-problems [problemSummaries]="problemSummaries" (getProblemSummaries)="getProblemSummaries()" (getOneProblem)="getOneProblem($event)"></app-selector-problems>
            </mat-sidenav>
            <mat-sidenav-content>
                <app-problem-display [oneProblemData]="oneProblemData"></app-problem-display>
                <p><button mat-button color="accent" (click)="sidenav.open()">Show Problems</button></p>
            </mat-sidenav-content>
        </mat-sidenav-container>

        <div class="promptSelector">
            <!-- <app-prompt-selector [prompts]="prompts" (selectPrompt)="selectPrompt($event)"></app-prompt-selector> -->
            <app-prompt-selector [promptPerson]="promptPerson" (selectPromptPerson)="setPromptPerson($event)" (selectDifficultyValue)="setDifficultyValue($event)"></app-prompt-selector>
        </div>
        <div class="generate-text">
            <app-generated-text [generatedText]="generatedText" (requestGenerateText)="generateTextPost()"></app-generated-text>
            <div *ngIf="isLoadingAI"> <mat-spinner></mat-spinner> </div>
        </div>
    </div>
    
    <div class="column">
        <div class="text-input">
            <app-text-input (textSubmit)="processText($event)"></app-text-input>
        </div>
        
        <div class="audio-buttons">
            <app-audio-input (audioRecorded)="transcribeAudio($event)"></app-audio-input>
        </div>
        <div class="display-transcription">
            <div *ngIf="isLoadingAudio"> <mat-spinner></mat-spinner> </div>
            <app-transcribe-audio-output [text]="transcribedAudio"></app-transcribe-audio-output>
        </div>
        
    </div>
</div>
    




