<app-navbar></app-navbar>

<div class="row">
    <div class="column">

        <mat-sidenav-container class="view-problems">
            <mat-sidenav #sidenav mode="over" (blur)="sidenav.close()"> 
                <button mat-icon-button (click)="sidenav.close()"><mat-icon>clear</mat-icon></button>
                <app-problem-selector [problemSummaries]="problemSummaries" (getProblemSummaries)="getProblemSummaries()" (getOneProblem)="getOneProblem($event)"></app-problem-selector>
            </mat-sidenav>
            <mat-sidenav-content>
                <app-problem-display [oneProblemData]="oneProblemData"></app-problem-display>
                <p><button mat-button color="accent" (click)="sidenav.open()">Show Problems</button></p>
            </mat-sidenav-content>
        </mat-sidenav-container>

        <div class="prompt-display">
            <app-prompt-display></app-prompt-display>
        </div>

        <div class="promptSelector">
            <!-- <app-prompt-selector [promptPerson]="clientData.promptData.voice" (selectPromptVoice)="setPromptVoice($event)" (selectDifficultyValue)="setDifficultyValue($event)" (selectTemperatureValue)="setTemperatureValue($event)" (selectModelValue)="setModelValue($event)"></app-prompt-selector> -->
            <app-prompt-selector [promptVoice]="clientData.promptData.voice" (selectPromptVoice)="setPromptVoice($event)" (selectTemperatureValue)="setTemperatureValue($event)"></app-prompt-selector>
        </div>
    </div>
    

    <div class="column">
        <div class="text-input">
            <app-text-input (textSubmit)="processText($event)"></app-text-input>
        </div>
        
        <div class="audio-buttons">
            <app-audio-input (audioRecorded)="transcribeAudio($event)"></app-audio-input>
        </div>

        <div class="display-transcription">
            <div *ngIf="isLoadingAudio"> <mat-spinner></mat-spinner> </div>
            <app-audio-output [text]="clientData.studentData.transcript"></app-audio-output>
        </div>

        <div class="generate-text">
            <app-text-output [generatedText]="generatedText" (requestGenerateText)="generateTextPost()"></app-text-output>
            <div *ngIf="isLoadingAI"> <mat-spinner></mat-spinner> </div>
        </div>
    </div>
</div>
    



